<!DOCTYPE html>
<html>
  <head>
    <link href="https://fonts.googleapis.com/css?family=IBM+Plex+Sans&display=swap" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="css/x5gon.css" />
  </head>

  <body>
    <script src="https://cdn.jsdelivr.net/npm/vue@latest/dist/vue.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vuex@3.1.2/dist/vuex.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue-router@3.1.4/dist/vue-router.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/http-vue-loader@1.4.1/src/httpVueLoader.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/d3@5.15.0/dist/d3.min.js"></script>
    <script src="https://unpkg.com/panzoom@8.7.3/dist/panzoom.min.js"></script>
    <script src="./js/lib/vue-panzoom.min.js"></script>

    <div id="x5gon-app">
      <router-view class="view"></router-view>
      <nav id="main-navbar">
        <router-link to="/">/home</router-link>
        <router-link to="/search">/search</router-link>
        <router-link to="/overview">/overview</router-link>
        <router-link to="/basket">/basket</router-link>
        <router-link to="/sequence">/sequence</router-link>
        <router-link to="/debug">/debug</router-link>
      </nav>
      <x5gon-notification></x5gon-notification>
      <x5gon-loading-spinner></x5gon-loading-spinner>
    </div>
  </body>

  <script type="module">
    // TODO: refactor this code into App component

    Vue.use(VueRouter);
    Vue.use(Vuex);

    import store from './js/Store.js';

    import constant from './js/Constants.js';
    Vue.prototype.$constant = constant;

    import components from './js/Components.js';

    const router = new VueRouter({
        routes: [
            { path: '/', component: components.Home },
            { path: '/search', component: components.Search },
            { path: '/overview/:id?', component: components.Overview },
            { path: '/basket', component: components.Basket },
            { path: '/sequence', component: components.Sequence },
            { path: '/debug', component: components.Debug },
        ]
    });

    var app = new Vue({
        router: router,
        store: store,
        el: '#x5gon-app',
        components: { 'x5gon-notification': components.Notification }
    });

    window.app = app;
  </script>
</body>
</html>
